<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firebase Auth - CDN Example</title>
</head>

<body>
    <!-- Sign-Up Form -->
    <form id="signup-form">
        <input type="email" id="email" placeholder="Enter your email" required>
        <input type="password" id="password" placeholder="Enter your password" required>
        <button type="submit">Sign Up</button>
    </form>

    <!-- Firebase SDKs via CDN -->
    <script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js"></script>

    <script type="module">

        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-analytics.js";
        import { getFirestore, collection, getDocs, addDoc } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";

        // Firebase configuration (Replace with your actual config)

        const firebaseConfig = {
            apiKey: "AIzaSyC8MCo957ZjjgF5rQ47uzIi8BVa_SWfPeo",
            authDomain: "expoll-5cb6d.firebaseapp.com",
            projectId: "expoll-5cb6d",
            storageBucket: "expoll-5cb6d.appspot.com",
            messagingSenderId: "676581762842",
            appId: "1:676581762842:web:88c56ced7b66a9d1762ea3",
            measurementId: "G-J4DY55BWS7"
        };

        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const db = getFirestore(app);
        const auth = getAuth(app)

        // Handle form submission
        document.getElementById('signup-form').addEventListener('submit', function (e) {
            e.preventDefault(); // Prevent default form submission

            // Get user inputs
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;

            // Firebase Auth: Create user with email and password
            createUserWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    // User created successfully
                    const user = userCredential.user;
                    console.log("User signed up:", user);
                    alert("User signed up successfully!");
                })
                .catch((error) => {
                    // Handle Errors
                    const errorCode = error.code;
                    const errorMessage = error.message;
                    console.error("Error:", errorCode, errorMessage);
                    alert("Error: " + errorMessage);
                });
        });
    </script>
</body>

</html>