<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin History</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="adminHistory.css" />
</head>

<body>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
            fetch("navbar.html")
                .then(response => response.text())
                .then(data => {
                    document.getElementById("navbar").innerHTML = data;
                })
                .catch(error => console.error("Error loading navbar:", error));
        });


        document.addEventListener("DOMContentLoaded", function () {
            fetch("sidebar.html")
                .then(response => response.text())
                .then(data => {
                    document.getElementById("sidebar").innerHTML = data;
                })
                .catch(error => console.error("Error loading navbar:", error));
        });
  </script>

  <div id="sidebar" class="sidebar" class="">
    <!-- <div class="logoDiv">
      <img src="/exPoll/src/assets/images/logo-darkblue.png" alt="expoll" class="logo" />
    </div>
    <div class="menu-items">
      <ul>
        <li>
          <button class="menu-button"><a href="/exPoll/src/pages/Admin/dashboard/index.html"><h3>Home</h3></a></button>
        </li>
        <li>
          <button class="menu-button"><a href=""><h3>Create Poll</h3></a></button>
        </li>
        <li>
          <button class="menu-button"><a href=""></a><h3>Create Rating</h3></button>
        </li>
      </ul>
    </div> -->
  </div>

  <div class="main-div">
     <div class="nav-bar-div" id="navbar">
      <!-- <div class="menuIconDiv">
       
        <button id="hamburger" class="hamburger" onclick="toggleSidebar()"> <img src="/exPoll/src/assets/icons/menuicon.png" alt="" class="menuIcon" /> </button>

        <img src="../../../assets/images/logo-white.png" alt="expoll" class="logo" />
      </div> -->
      <!-- <img src="../../../assets/icons/user-white.png" alt="" class="userIcon" /> -->
    </div> 
    

   

    <div class="headingDiv">
      <h2>Activity History</h2>
    </div>
    <div class="adminHistoryDiv">
      <div class="backgroundDiv">
        <div class="activityBoxContainer" id="activity-box-container">
          
        </div>
      </div>
      <div class="sortingDiv">
        <div class="searchBox">
          <input type="text" placeholder="Search" id="searchInput" class="searchInput" />
          <button class="search-button">
            <img src="/src/assets/icons/isearch-icon-bold.png" alt="" />
          </button>
        </div>

        <div class="dropdownContainer">
          <select id="activityType" class="dropdown">
            <option value="" disabled selected>Activity Type</option>
            <option value="poll">Poll</option>
            <option value="feedback">Feedback</option>
          </select>
        </div>
        <div class="dropdownContainer" id="sortOrder">
          <select  id="sortOptions" class="dropdown">
            <option value="" disabled selected>Sort By</option>
            <option value="newest">Newest</option>
            <option value="oldest">Oldest</option>
          </select>
        </div>
        <div class="timePeriodContainer">
          <div class="toggleContainer" style="display: flex; align-items: center; gap: 10px;">
            <div>
              <h4><span id="toggleLabel">Time Period</span></h4>
            </div>

            <label class="switch">
              <input type="checkbox" id="dateFilterToggle">

              <span class="slider"></span>
            </label>
          </div>
          <div class="time-period-boxes">
            <div class="date-input">
              <h5>From</h5>
              <div class="input-container">
                <input type="date" id="fromDate" />
              </div>
            </div>
            <div class="date-input">
              <h5>To</h5>
              <div class="input-container">
                <input type="date" id="toDate" />
              </div>
            </div>
          </div>
        </div>
        <div class="buttonContainer">
          <button class="clearButton">Clear Filters</button>
          <!-- <button class="applyButton">Apply Filters</button> -->
        </div>
      </div>
    </div>
  </div>
  <script src="displaySideBar.js">
  </script>
  <script type="module" src="history.js"></script>
<script>
      
       window.addEventListener('load', function() {
            const fromDateInput = document.getElementById("fromDate");
            const toDateInput = document.getElementById("toDate");
            const toggle = document.getElementById("dateFilterToggle");
            
            // Function to enable/disable date inputs
            function updateDateInputs() {
                if (toggle.checked) {
                    fromDateInput.disabled = false;
                    toDateInput.disabled = false;
                } else {
                    fromDateInput.disabled = true;
                    toDateInput.disabled = true;
                     // Clear the date inputs
                     fromDateInput.value = '';
                    toDateInput.value = '';
                    // fetchPollDetailsWithDateFilterAndSearch();
                }
            }
            // Initial setup
            updateDateInputs();

            // Event listener for the toggle checkbox
            toggle.addEventListener("change", updateDateInputs);
        });
    </script>

</body>
</html>